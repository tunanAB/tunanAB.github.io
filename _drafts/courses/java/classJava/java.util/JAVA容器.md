# java数组和容器的区别

数组和其它容器的区别主要有三方面:

- 效率

​	在JAVA中,数组是一种效率很高的存储和随机访问对象引用序列的方式.数组是一 个简单的线性序列,因此访问速度很快

- 类型

​	但也损失了其它一些特性.创建一个数组对象后,大小就固定了,如果空间不够,通常是再创建一个数组,然后把旧数组中 的所有引用移到新数组中.

- 保存基本类型的能力.

​	数组可可以保存基本类型,容器不行，容器类不以具体的类型来处理对象，而是将所有的对象都以Object类型来处理,所以我们可以只创建一个容器，任意的Java对象都可以放进去，容器类可以使用包装类(Integer,Double等),以便把基本类型放入其中. List Set Map 都可以自动调整容量,数组不能.

- 封装的方法

​	数组中提供的方法非常有限，对于添加、删除、插入数据等操作，非常不便，同时效率不高。获取数据中实际元素的个数的需求，数组没有现成的属性或方法可用。数组存储数据的特点：有序、可重复。对于无序、不可重复的需求，不能满足。

# JAVA容器的分类

Java的容器主要分为2个大类，即Collection和Map。Collection代表着集合，类似数组，只保存一个数字。而Map则是映射，保留键值对两个值。

![](../../../images/22e737dd9d6e498b984d34c0cc675510.png)

根据图，首先提一下List Queue Set Map 这四个的区别。

- **List**(对付顺序的好帮手): 存储的元素是有序的、可重复的。

- **Set** (注重独一无二的性质)：存储的元素是无序的、不可重复的。
- **Queue** (实现排队功能的叫号机):按**特定的排队规则**来确定先后顺序，存储的元素是有序的、可重复的。
- **Map** (用 key 来搜索的专家) :使用键值对（key-value）存储，类似于数学上的函数 y=f(x)，“x” 代表 key，“y” 代表 value，key 是无序的、不可重复的，value 是无序的、可重复的，每个键最多映射到一个值

### Collection

#### List

|名称|底层|线程安全性|优点|扩容机制|
| ---------- | -------------------------------------------------- | ------------------ | -------------- | --------------------------- |
|`ArrayList`|数组| 线程不安全| 查找快，增删慢 | 首次创建长度为10，扩为1.5倍 |
|`Vector`|数组|线程同步线程安全 | 查找快，增删慢 | 首次创建长度为10，*2 |
| `LinkedList` | 双向链表(JDK1.6 之前为循环链表，JDK1.7 取消了循环) | 线程不安全| 增删快，查找慢 |不主动扩容|

#### Set

|名称|底层|	线程安全性|	备注|
| ------------- | ------------------ | ---------- | -------------------------------------------- |
| `HashSet`     | HashMap(数组+链表) | 线程不安全 | 注意hashcode和equals()                       |
| `LinkedHashSet` | 链表和哈希表       | 线程不安全 | HashSet的子类，元素的插入和取出顺序满足 FIFO |
| `TreeSet`     | 红黑树             | 线程不安全 | 支持对元素自定义排序规则                     |

#### Queue

`queue`:单向队列

`deque`:双向队列

`PriorityQueue` 是非线程安全的，默认小顶堆，但可以接收一个 Comparator 作为构造参数，从而来自定义元素优先级的先后。

### Map

名称|	底层|	线程安全性	|备注|	扩容机制
-|-|-|-|-
`HashMap`|	数组+链表（jdk7）| 数组+链表+红黑树 （jdk8）	|线程不安全	能存储null的key和value	|首次创建长度16，扩容2倍，jdk8中当数组的某一个索引位置上的元素以链表形式存在的数据个数>8且当前的数组长度>64时，此索引位置上的所有数据改为使用红黑树存储
`LinkedHashMap`	|同`hashmap`	|线程不安全	|比`hashmap`多了指向前驱和后继的两个指针	| 
`ConcurrentHashMap`	|同`hashmap`	|线程安全	|使用16个锁来控制segments,分段锁	|
`HashTable`	|数组+链表	|线程安全，全表锁	|不能存储null的key和value	首次创建时长度为11，后来变为2n+1|
`TreeMap`	|红黑树|	线程不安全	|定制排序|